<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ventana Movible</title>
</head>
<body>    
    <button id="generarBoton">Generar Ventana</button>
    <button id="controlBoton" disable>Parar</button>
    <script>
        let myVentanita;
        let intervalId;
        let moviendo=false;
    
        document.getElementById("generarBoton").addEventListener("click",function(){
            if(!myVentanita||myVentanita.closed){
            myVentanita=window.open("","","width=200,height=200,border=1px solid black,background-color=red");
            document.getElementById("controlBoton").disable=false;
            moverVentana();    
        }else{
            alert("ventana ya generada")
        }
        });
        function moverVentana(){
            moviendo=true;
            intervalId=setInterval(()=>{
                let x=Math.floor(Math.random()*(window.screen.width-200));
                let y=Math.floor(Math.random()*(window.screen.height-200));
                myVentanita.moveTo(x,y);
            },100);
        }
        document.getElementById("controlBoton").addEventListener("click",function(){
            if(moviendo){
                clearInterval(intervalId);
                this.textContent="Mover";
                moviendo=false;
            }else{
                moverVentana();
                this.textContent="Parar";
            }
        });
    
    </script>
</body>
</html>